{"version":3,"sources":["Components/Timer/Timer.module.css","../node_modules/peerjs/dist sync","Components/Chat/Chat.module.css","Pages/Home/Home.js","Pages/Home/UserHome.js","Pages/SignIn/SignIn.js","Components/Timer/Timer.js","Components/Chat/Chat.js","Pages/TutoringRoom/TutoringRoom.js","App.js","reportWebVitals.js","index.js","Pages/TutoringRoom/TutoringRoom.module.css"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Home","to","UserHome","navigate","useNavigate","useState","clientInfo","setClientInfo","username","localStorage","getItem","useEffect","console","log","axios","get","then","res","data","setItem","isTutor","catch","err","error","upcomingSessions","map","session","sessionId","onClick","Math","floor","random","SignIn","onSubmit","preventDefault","target","value","type","name","Timer","useStopwatch","autoStart","seconds","minutes","hours","className","styles","timer","Chat","clientName","messages","myMessage","setMyMessage","sendMessage","sendBtn","useRef","window","addEventListener","key","current","click","stopPropagation","chat","messagesContainer","message","sender","messageContainer","otherMessageContainer","otherClientMessage","length","messageInputContainer","messageInput","placeholder","onChange","ref","sendMessageBtn","sendIcon","fontSize","TutoringRoom","props","streamMyVideo","setStreamMyVideo","myVideoTrackStopped","setMyVideoTrackStopped","streamMyAudio","setStreamMyAudio","myAudioTrackStopped","setMyAudioTrackStopped","showOtherClientVideo","setShowOtherClientVideo","allPartiesJoined","setAllPartiesJoined","socketEventQueue","setSocketEventQueue","showTimer","setShowTimer","isSharingScreen","setIsSharingScreen","otherClientScreenSharing","setOtherClientScreenSharing","showColorPicker","setShowColorPicker","penColor","setPenColor","setMessages","latentVideoDisable","canvasRef","socket","peer","screenPeer","myVideo","keyRefs","otherClientName","otherClientVideo","myScreen","otherClientScreen","Object","undo","emit","prev","eventName","redo","io","on","_","srcObject","getVideoTracks","forEach","track","enabled","push","getAudioTracks","canvasPaths","loadPaths","shareScreenPeer","Peer","call","answer","screen","destroy","navigator","mozGetUserMedia","mediaDevices","getUserMedia","webkitGetUserMedia","video","audio","stream","play","peerConnection","remoteStream","includes","disable","event","roomContainer","videoFeedsContainer","myVideoContainer","videoFeed","muted","muteButton","size","stopVideoButton","getTracks","stop","getDisplayMedia","cursor","onended","handleShareScreen","alert","screenShareBtn","screenShareIcon","style","display","otherClientVideoContainer","autoPlay","myScreenContainer","canvas","height","innerHeight","strokeWidth","strokeColor","onStroke","otherScreenContainer","otherClientScreenVid","tools","tool","colorPicker","color","hex","presetColors","place","chatBtn","App","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fe63462c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"Timer_timer__1EgnD\"};","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 152;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__3_RI9\",\"messagesContainer\":\"Chat_messagesContainer__3MtI_\",\"messageInputContainer\":\"Chat_messageInputContainer__3t2ua\",\"messageInput\":\"Chat_messageInput__IPThH\",\"sendMessageBtn\":\"Chat_sendMessageBtn__17-FN\",\"sendIcon\":\"Chat_sendIcon__31TvI\",\"messageContainer\":\"Chat_messageContainer__17nrX\",\"otherMessageContainer\":\"Chat_otherMessageContainer__33CJu\",\"sender\":\"Chat_sender__kQZUo\",\"message\":\"Chat_message__CfFdd\",\"myMessage\":\"Chat_myMessage__O5ONI\",\"otherClientMessage\":\"Chat_otherClientMessage__9dZZa\"};","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nexport default function Home() {\r\n    return (\r\n        <div>\r\n            <Link to=\"/\">Home</Link>\r\n            <Link to=\"/signin\">Sign In</Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {useState, useEffect} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nexport default function UserHome() {\r\n\r\n    const navigate= useNavigate()\r\n\r\n    const [clientInfo, setClientInfo] = useState(null)\r\n    const username = localStorage.getItem('username')\r\n\r\n    useEffect(() => {\r\n        console.log(username)\r\n        axios.get(`https://osmolearn-dev.herokuapp.com/accounts/${username}`).then(res => {\r\n            console.log(res.data)\r\n            setClientInfo(res.data)\r\n            localStorage.setItem('isTutor', res.data.isTutor)\r\n        }).catch(err => console.error(err))\r\n        \r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            {clientInfo && clientInfo.upcomingSessions.map(session => \r\n                <div key={Math.floor(Math.random() * 100)}>\r\n                    <p>SessionId: {session.sessionId}</p>\r\n                    <button onClick={e => navigate(`/session/${session.sessionId}`)}>Join Session</button>\r\n                    <br/>\r\n                </div>)}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {useNavigate} from 'react-router'\r\n\r\nexport default function SignIn() {\r\n    const navigate = useNavigate()\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        const username = e.target.username.value\r\n        localStorage.setItem('username', username)\r\n        navigate('/dashboard')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    Username\r\n                    <input type=\"text\" name=\"username\"/>\r\n                </label>\r\n                <input type=\"submit\" value=\"Sign In\"/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import styles from './Timer.module.css'\r\nimport {useStopwatch} from 'react-timer-hook'\r\n\r\nexport default function Timer() {\r\n    const {\r\n        seconds,\r\n        minutes,\r\n        hours\r\n      } = useStopwatch({autoStart: true})\r\n    return (\r\n        <div className={styles.timer}>\r\n            <p>{hours}:{minutes}:{seconds}</p>\r\n        </div>\r\n    )\r\n}\r\n","import styles from './Chat.module.css'\r\nimport {MdSend} from 'react-icons/md'\r\nimport {useEffect, useRef} from 'react'\r\n\r\nexport default function Chat({clientName, messages, myMessage, setMyMessage, sendMessage}) {\r\n\r\n    const sendBtn = useRef()\r\n    console.log(sendBtn)\r\n    useEffect(() => {\r\n        window.addEventListener('keypress', e => {\r\n            if(e.key === \"Enter\"){\r\n                sendBtn.current.click() //simulate click\r\n                e.stopPropagation()\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.chat}>\r\n            <div className={styles.messagesContainer}>\r\n                {messages.map(message => {\r\n                    console.log(message)\r\n                    return (\r\n                        <div key={message.message[0] + Math.floor(Math.random() * (5000 - 0) + 0)} className={message.sender === clientName? styles.messageContainer: styles.otherMessageContainer}>\r\n                            <div className={styles.sender}>{message.sender}</div>\r\n                            <div key={message.message[0] + message.message[message.message.length - 1]} className={message.sender === clientName? styles.myMessage : styles.otherClientMessage}>\r\n                                <div className={styles.message}>{message.message}</div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className={styles.messageInputContainer}>\r\n                <input className={styles.messageInput} type=\"text\" placeholder=\"Type a message here...\" value={myMessage} onChange={e => setMyMessage(e.target.value)}/>\r\n                <div ref={sendBtn} onClick={sendMessage} className={styles.sendMessageBtn}>\r\n                    <MdSend className={styles.sendIcon} fontSize={25}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import styles from './TutoringRoom.module.css'\r\nimport {useState, useEffect, useRef} from 'react'\r\nimport axios from 'axios'\r\nimport Peer from 'peerjs';\r\nimport {io} from 'socket.io-client'\r\nimport {ReactSketchCanvas} from 'react-sketch-canvas';\r\nimport {MdScreenShare,MdStopScreenShare,MdOutlineColorLens,MdOutlineVideocam,MdOutlineVideocamOff} from 'react-icons/md'\r\nimport {GrRedo,GrUndo} from 'react-icons/gr'\r\nimport {BsEraser,BsPencilFill,BsMicMute,BsMic, BsChatDots} from 'react-icons/bs'\r\nimport Timer from '../../Components/Timer/Timer';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport {GithubPicker} from 'react-color'\r\nimport Chat from '../../Components/Chat/Chat';\r\n\r\nexport default function TutoringRoom(props) {\r\n    \r\n    // const [clientId, setClientId] = useState(null)\r\n    const [streamMyVideo, setStreamMyVideo] = useState(true)\r\n    const [myVideoTrackStopped, setMyVideoTrackStopped] = useState(false)\r\n    const [streamMyAudio, setStreamMyAudio] = useState(true)\r\n    const [myAudioTrackStopped, setMyAudioTrackStopped] = useState(false)\r\n    const [showOtherClientVideo, setShowOtherClientVideo] = useState(false)\r\n    const [allPartiesJoined, setAllPartiesJoined] = useState(false)\r\n    const [socketEventQueue, setSocketEventQueue] = useState([])\r\n    const [showTimer, setShowTimer] = useState(false)\r\n    const [isSharingScreen, setIsSharingScreen] = useState(false)\r\n    const [otherClientScreenSharing, setOtherClientScreenSharing] = useState(false)\r\n    const [showColorPicker, setShowColorPicker] = useState(false)\r\n    const [penColor, setPenColor] = useState('black')\r\n    const [messages, setMessages] = useState([])\r\n    const [myMessage, setMyMessage] = useState('')\r\n\r\n    const isTutor = localStorage.getItem('isTutor')\r\n    const clientName = localStorage.getItem('username')\r\n    const latentVideoDisable = useRef([])\r\n    const canvasRef = useRef()\r\n    const socket = useRef(null)\r\n    const peer = useRef(null)\r\n    const screenPeer = useRef(null)\r\n    const myVideo = useRef()\r\n    const keyRefs = useRef({})\r\n    const otherClientName = useRef(null)\r\n    const otherClientVideo = useRef()\r\n    const myScreen = useRef()\r\n    const otherClientScreen = useRef()\r\n\r\n    const callClient = () => {\r\n        var getUserMedia = navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia || navigator.mediaDevices.getUserMedia || navigator.mediaDevices.webkitGetUserMedia;\r\n        getUserMedia({ video: true, audio: true }).then( (stream) => {\r\n            console.log(\"calling: \",otherClientName.current)\r\n            let call = peer.current.call(otherClientName.current, stream)\r\n            call.on('stream', remoteStream => {\r\n                setShowOtherClientVideo(true)\r\n                otherClientVideo.current.srcObject = remoteStream\r\n            })\r\n        }).catch(err => console.error(err))\r\n    }\r\n\r\n    const traceSketch = canvasPaths => {\r\n        if(socket.current){\r\n            allPartiesJoined ? socket.current.emit('draw', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", canvasPaths: canvasPaths}) : \r\n                               setSocketEventQueue(prev => [...prev, {eventName: 'draw', data: {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", canvasPaths: canvasPaths}}])\r\n        }\r\n    }\r\n\r\n    const handleShareScreen = () => {\r\n        console.log(\"sharing screen\")\r\n        if(!isSharingScreen){\r\n            if(!screenPeer.current){\r\n                //If screenPeer wasn't already made before. This prevents the constant recreation of screen peer when reattempting to screenshare\r\n                const shareScreenPeer = new Peer(`${clientName}-video`)\r\n                screenPeer.current = shareScreenPeer\r\n                shareScreenPeer.on(\"open\", id => {\r\n                    shareScreenPeer.on(\"call\", call => {\r\n                        call.answer(null) //not going to provide a stream back in this case\r\n                        call.on(\"stream\", screen => {\r\n                            //Handle latent action by disabling the ability to screenshare when both parties aren't in (easier on me and server load)\r\n                            setOtherClientScreenSharing(true)\r\n                            otherClientScreen.current.srcObject = screen\r\n                            console.log(\"answered screenshare call and got screenshare data\")\r\n                        })\r\n                    })\r\n                })\r\n                socket.current.emit('screenshare', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}) //emitted only for first time sharing screen\r\n            }\r\n            navigator.mediaDevices.getDisplayMedia({video: {cursor: \"always\"}, audio: true})\r\n                                    .then(screen => {\r\n                                        screen.getVideoTracks()[0].onended = () => {\r\n                                            setIsSharingScreen(false)\r\n                                            // myScreen.current.srcObject.getTracks().forEach(track => track.stop())\r\n                                            socket.current.emit('end screenshare', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}) //used for setting states\r\n                                            if(screenPeer.current){\r\n                                                screenPeer.current.destroy()\r\n                                                screenPeer.current = null\r\n                                            }\r\n                                            myScreen.current = null\r\n                                        }\r\n                                        screenPeer.current.call(`${otherClientName.current}-video`, screen)\r\n                                        console.log(`called ${otherClientName.current}-video`)\r\n                                        setIsSharingScreen(true)\r\n                                        myScreen.current.srcObject = screen\r\n                                    }).catch(err => console.error(err))\r\n        } else {\r\n            //Shut down share screen and destroy screenPeer connection and set screenShare to null\r\n            setIsSharingScreen(false)\r\n            myScreen.current.srcObject.getTracks().forEach(track => track.stop())\r\n            socket.current.emit('end screenshare', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}) //used for setting states\r\n            if(screenPeer.current){\r\n                screenPeer.current.destroy()\r\n                screenPeer.current = null\r\n            }\r\n            myScreen.current = null\r\n        }\r\n    }\r\n\r\n    const loadKeyDownHandlers = () => {\r\n        window.addEventListener('keydown', e => {\r\n            if(e.key === 'Control' || e.key === 'z' || e.key === 'x'){\r\n                keyRefs.current[e.key] = e.key\r\n            }\r\n            if(Object.keys(keyRefs.current).length >= 2){\r\n                if(keyRefs.current['Control'] && keyRefs.current['z']){\r\n                    canvasRef.current.undo()\r\n                    allPartiesJoined ? socket.current.emit('undo', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}):\r\n                           setSocketEventQueue(prev => [...prev, {eventName: 'undo', data: {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}}])\r\n\r\n                }\r\n                if(keyRefs.current['Control'] && keyRefs.current['x']){\r\n                    canvasRef.current.redo()\r\n                    allPartiesJoined ? socket.current.emit('redo', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}):\r\n                           setSocketEventQueue(prev => [...prev, {eventName: 'redo', data: {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}}])\r\n                }\r\n            }\r\n        })\r\n\r\n        window.addEventListener('keyup', e => {\r\n            keyRefs.current = {}\r\n        })\r\n    }\r\n\r\n    const undoDrawing = () =>{\r\n        canvasRef.current.undo()\r\n        allPartiesJoined ? socket.current.emit('undo', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}):\r\n                           setSocketEventQueue(prev => [...prev, {eventName: 'undo', data: {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}}])\r\n    }\r\n\r\n    const redoDrawing = () =>{\r\n        canvasRef.current.redo()\r\n        allPartiesJoined ? socket.current.emit('redo', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}):\r\n                           setSocketEventQueue(prev => [...prev, {eventName: 'redo', data: {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\"}}])\r\n    }\r\n\r\n    const changePenColor = (color, event) => {\r\n        console.log('color change to:', color.hex)\r\n        setPenColor(color.hex)\r\n    }\r\n\r\n    const sendMessage = () => {\r\n        console.log(\"message:\", myMessage)\r\n        setMessages(prev => [...prev, {sender: clientName, message: myMessage}])\r\n        allPartiesJoined ? socket.current.emit('message', {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", message: myMessage}):\r\n                           setSocketEventQueue(prev => [...prev, {eventName: 'message', data: {sessionId: \"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", message: myMessage}}])\r\n        setMyMessage('')\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        loadKeyDownHandlers()\r\n        socket.current = io()\r\n        socket.current.emit('user connected', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", name: clientName})\r\n\r\n        socket.current.on('disable other client video', _ => {\r\n            console.log(\"other client stopped their video feed\")\r\n            if(otherClientVideo.current.srcObject){\r\n                otherClientVideo.current.srcObject.getVideoTracks().forEach(track => track.enabled = false);\r\n            } else {\r\n                latentVideoDisable.current.push('video')\r\n            }\r\n        })\r\n        socket.current.on('enable other client video', _ => {\r\n            console.log(\"other client enabled their video feed\")\r\n            if(otherClientVideo.current.srcObject){\r\n                otherClientVideo.current.srcObject.getVideoTracks().forEach(track => track.enabled = true);\r\n            }\r\n        })\r\n        socket.current.on('disable other client audio', _ => {\r\n            console.log(\"other client stopped their audio feed\")\r\n            if(otherClientVideo.current.srcObject){\r\n                otherClientVideo.current.srcObject.getAudioTracks().forEach(track => track.enabled = false);\r\n            }else {\r\n                latentVideoDisable.current.push('audio')\r\n            }\r\n        })\r\n        socket.current.on('enable other client audio', _ => {\r\n            console.log(\"other client enabled their audio feed\")\r\n            if(otherClientVideo.current.srcObject){\r\n                otherClientVideo.current.srcObject.getAudioTracks().forEach(track => track.enabled = true);\r\n            }\r\n        })\r\n        socket.current.on('draw', canvasPaths => {\r\n            canvasRef.current.loadPaths(canvasPaths)\r\n        })\r\n\r\n        socket.current.on('screenshare', () => {\r\n            console.log(`Getting screenshare data`)\r\n            if(!screenPeer.current){\r\n                //If screenPeer wasn't already made before. This prevents the constant recreation of screen peer when reattempting to screenshare\r\n                const shareScreenPeer = new Peer(`${clientName}-video`)\r\n                screenPeer.current = shareScreenPeer\r\n                shareScreenPeer.on(\"open\", id => {\r\n                    shareScreenPeer.on(\"call\", call => {\r\n                        call.answer(null) //not going to provide a stream back in this case\r\n                        call.on(\"stream\", screen => {\r\n                            //Handle latent action by disabling the ability to screenshare when both parties aren't in (easier on me and server load)\r\n                            setOtherClientScreenSharing(true)\r\n                            otherClientScreen.current.srcObject = screen\r\n                            console.log(\"answered screenshare call and got screenshare data\")\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n        })\r\n\r\n        socket.current.on('end screenshare', () => {\r\n            if(screenPeer.current){\r\n                screenPeer.current.destroy()\r\n                screenPeer.current = null\r\n            }\r\n            setOtherClientScreenSharing(false)\r\n            otherClientScreen.current = null\r\n        })\r\n\r\n        socket.current.on('undo', () => {\r\n            canvasRef.current.undo()\r\n        })\r\n\r\n        socket.current.on('redo', () => {\r\n            canvasRef.current.redo()\r\n        })\r\n\r\n        socket.current.on('message', message => {\r\n            console.log(message)\r\n            setMessages(prev => [...prev, {sender: otherClientName.current, message: message}]) //when I send message sender will be me\r\n        })\r\n\r\n        axios.get(`https://osmolearn-dev.herokuapp.com/call/${clientName}/07b799f3-8e4d-4c26-a4bd-d65b80ce83db`).then(res=> otherClientName.current = res.data)\r\n        .catch(err => console.error(err))\r\n\r\n        var getUserMedia = navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia || navigator.mediaDevices.getUserMedia || navigator.mediaDevices.webkitGetUserMedia;\r\n        getUserMedia({ video: true, audio: true }).then(stream => {\r\n            myVideo.current.srcObject = stream;\r\n            myVideo.current.play();\r\n        }).catch(err => console.error(err))\r\n\r\n        if(!peer.current) {\r\n            const peerConnection = new Peer(clientName)\r\n            peer.current = peerConnection\r\n            peerConnection.on(\"open\", id => {\r\n                console.log(`${id} connected`)\r\n                // setClientId(id)\r\n                peerConnection.on(\"call\", call => {\r\n                    console.log(\"getting a call\")\r\n                    var getUserMedia = navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia || navigator.mediaDevices.getUserMedia || navigator.mediaDevices.webkitGetUserMedia ;\r\n                    getUserMedia({ video: true, audio: true }).then((stream) => {\r\n                        call.answer(stream)\r\n    \r\n                        call.on('stream', remoteStream => {\r\n                            setShowOtherClientVideo(true)\r\n                            otherClientVideo.current.srcObject = remoteStream\r\n                            if(latentVideoDisable.current.includes('video')){\r\n                                console.log('latent disabling client video')\r\n                                otherClientVideo.current.srcObject.getVideoTracks().forEach(track => track.enabled = false);\r\n                            }\r\n                            if(latentVideoDisable.current.includes('audio')){\r\n                                console.log('latent disabling client audio')\r\n                                otherClientVideo.current.srcObject.getAudioTracks().forEach(track => track.enabled = false);\r\n                            }\r\n                        })\r\n                    }).catch(err => console.error(err))\r\n                })\r\n            })\r\n        }\r\n        console.log(peer.current)\r\n        socket.current.on('all clients connected', data => {\r\n            setAllPartiesJoined(true)\r\n            setShowTimer(true)\r\n            console.log(\"all clients connected\")\r\n            if(isTutor === \"true\"){\r\n                callClient(true)\r\n            }\r\n        })\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    //Handles disabling my own video\r\n    useEffect(() => {\r\n        //disable my video and send signal to other client to disable their video\r\n        if(myVideo.current !== null && !streamMyVideo){\r\n            myVideo.current.srcObject.getVideoTracks().forEach(track => track.enabled = !track.enabled);\r\n            allPartiesJoined? socket.current.emit('disable video', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: true}) :\r\n                              setSocketEventQueue(prev => [...prev, {eventName: 'disable video' , data: {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: true}}])\r\n            setMyVideoTrackStopped(true)\r\n        }\r\n        //enable my video and send signal to other client to enable their video\r\n        if(myVideo.current !== null && streamMyVideo && myVideoTrackStopped){\r\n            myVideo.current.srcObject.getVideoTracks().forEach(track => track.enabled = !track.enabled);\r\n            allPartiesJoined? socket.current.emit('disable video', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: false}) :\r\n                              setSocketEventQueue(prev => [...prev, {eventName: 'disable video' , data: {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: false}}])\r\n            setStreamMyVideo(true)\r\n            setMyVideoTrackStopped(false)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [streamMyVideo])\r\n\r\n    //Handles disabling my own video\r\n    useEffect(() => {\r\n        //disable my video and send signal to other client to disable their video\r\n        if(myVideo.current !== null && !streamMyAudio){\r\n            allPartiesJoined? socket.current.emit('disable audio', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: true}) :\r\n                              setSocketEventQueue(prev => [...prev, {eventName: 'disable audio' , data: {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: true}}])\r\n            setMyAudioTrackStopped(true)\r\n        }\r\n        //enable my video and send signal to other client to enable their video\r\n        if(myVideo.current !== null && streamMyAudio && myAudioTrackStopped){\r\n            allPartiesJoined? socket.current.emit('disable audio', {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: false}) :\r\n                              setSocketEventQueue(prev => [...prev, {eventName: 'disable audio' , data: {sessionId:\"07b799f3-8e4d-4c26-a4bd-d65b80ce83db\", disable: false}}])\r\n            setStreamMyAudio(true)\r\n            setMyAudioTrackStopped(false)\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [streamMyAudio])\r\n\r\n    useEffect(() => {\r\n        socketEventQueue.forEach(event => {\r\n            socket.current.emit(event.eventName, event.data)\r\n        })\r\n        //reset event queue in case one party leaves (will write code to emit signal when user leaves abruptly to properly set AllPartiesJoined to false)\r\n        setSocketEventQueue([])\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [allPartiesJoined])\r\n\r\n    return (\r\n        <div className={styles.roomContainer}>\r\n            <div className={styles.videoFeedsContainer}>\r\n                <div className={styles.myVideoContainer}>\r\n                    <video className={styles.videoFeed} muted ref={myVideo}/>\r\n                    <div>\r\n                        <div onClick={e => {setStreamMyAudio(!streamMyAudio)}} className={styles.muteButton}>\r\n                            {streamMyAudio? <BsMic size={30}/> : <BsMicMute size={30}/>}\r\n                        </div>\r\n                        <div onClick={e => {setStreamMyVideo(!streamMyVideo)}} className={styles.stopVideoButton}>\r\n                            {streamMyVideo? <MdOutlineVideocam size={30}/> : <MdOutlineVideocamOff size={30}/>}\r\n                        </div>\r\n                        <div onClick={e => allPartiesJoined? handleShareScreen() : alert(\"Can't share screen until both parties join\")} className={styles.screenShareBtn}>\r\n                            {isSharingScreen? <MdStopScreenShare className={styles.screenShareIcon} fontSize={30}/> : <MdScreenShare className={styles.screenShareIcon} fontSize={30}/>}\r\n                        </div>\r\n                    </div>\r\n                    <p className={styles.name}>{clientName}</p>\r\n                </div>\r\n                <div style={{display: showOtherClientVideo? 'block' : 'none'}} className={styles.otherClientVideoContainer}>\r\n                    <video className={styles.videoFeed} autoPlay ref={otherClientVideo}/>\r\n                    <p className={styles.otherClientName}>{otherClientName.current}</p>\r\n                </div>\r\n                {isSharingScreen && \r\n                <div className={styles.myScreenContainer}>\r\n                    <video className={styles.videoFeed} autoPlay ref={myScreen}/>\r\n                </div>}\r\n                {showTimer && <div className={styles.timer}><Timer/></div>}\r\n            </div>\r\n            <div className={styles.canvas}>\r\n                <ReactSketchCanvas\r\n                height={window.innerHeight}\r\n                strokeWidth={5}\r\n                strokeColor={penColor}\r\n                ref={canvasRef}\r\n                onStroke={traceSketch}\r\n                />\r\n            </div>\r\n            {otherClientScreenSharing && \r\n            <div className={styles.otherScreenContainer}>\r\n                <video className={styles.otherClientScreenVid} autoPlay ref={otherClientScreen}/>\r\n            </div>}\r\n            <div className={styles.tools}>\r\n                <div onClick={undoDrawing} data-delay-show='500' data-tip=\"undo\" data-for=\"undoTip\" className={styles.tool}>\r\n                    <GrUndo size={20}/>\r\n                </div>\r\n                <div onClick={redoDrawing} data-delay-show='500' data-tip=\"redo\" data-for=\"redoTip\" className={styles.tool}>\r\n                    <GrRedo size={20}/>\r\n                </div>\r\n                <div onClick={e => setShowColorPicker(!showColorPicker)} className={styles.tool}>\r\n                    <MdOutlineColorLens data-delay-show='500' data-tip=\"color\" data-for=\"colorTip\" size={20}/>\r\n                    {showColorPicker && <GithubPicker className={styles.colorPicker} onChange={changePenColor} presetColors={['#D0021B', '#F5A623', '#F8E71C', '#8B572A', '#7ED321', '#417505', '#BD10E0', '#9013FE', '#4A90E2', '#50E3C2', '#B8E986', '#000000', '#4A4A4A', '#9B9B9B', '#FFFFFF']}/>}\r\n                </div>\r\n                <div data-delay-show='500' data-tip=\"eraser\" data-for=\"eraserTip\" className={styles.tool}>\r\n                    <BsEraser size={20}/>\r\n                </div>\r\n                <div data-delay-show='500' data-tip=\"pencil\" data-for=\"pencilTip\" className={styles.tool}>\r\n                    <BsPencilFill size={20}/>\r\n                </div>\r\n                <ReactTooltip place='right' id=\"undoTip\">\r\n                    Undo\r\n                </ReactTooltip>\r\n                <ReactTooltip place='right' id=\"redoTip\">\r\n                    Redo\r\n                </ReactTooltip>\r\n                <ReactTooltip place='right' id=\"colorTip\">\r\n                    Change Pen Color\r\n                </ReactTooltip>\r\n                <ReactTooltip place='right' id=\"eraserTip\">\r\n                    Eraser\r\n                </ReactTooltip>\r\n                <ReactTooltip place='right' id=\"pencilTip\">\r\n                    Pencil\r\n                </ReactTooltip>\r\n            </div>\r\n            <Chat clientName={clientName} messages={messages} myMessage={myMessage} setMyMessage={setMyMessage} sendMessage={sendMessage}/>\r\n            <div className={styles.chatBtn}>\r\n                Chat &nbsp; <BsChatDots fontSize={20}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import './App.css';\nimport {BrowserRouter as Router, Routes, Route} from 'react-router-dom'\nimport Home from './Pages/Home/Home'\nimport UserHome from './Pages/Home/UserHome'\nimport SignIn from './Pages/SignIn/SignIn'\nimport TutoringRoom from './Pages/TutoringRoom/TutoringRoom';\n\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route exact path=\"/\" element={<Home/>}/>\n          <Route path=\"/signin\" element={<SignIn/>}/>\n          <Route path=\"/dashboard\" element={<UserHome/>}/>\n          <Route path=\"/session/:sessionId\" element={<TutoringRoom/>}/>\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roomContainer\":\"TutoringRoom_roomContainer__Mxbo3\",\"videoFeedsContainer\":\"TutoringRoom_videoFeedsContainer__1ppFN\",\"myVideoContainer\":\"TutoringRoom_myVideoContainer__2UYS2\",\"otherClientVideoContainer\":\"TutoringRoom_otherClientVideoContainer__WA7UQ\",\"name\":\"TutoringRoom_name__RYUr1\",\"otherClientName\":\"TutoringRoom_otherClientName__2WoJw\",\"videoFeed\":\"TutoringRoom_videoFeed__39AOg\",\"myScreenContainer\":\"TutoringRoom_myScreenContainer__3WX4D\",\"stopVideoButton\":\"TutoringRoom_stopVideoButton__1rh64\",\"muteButton\":\"TutoringRoom_muteButton__1ydrt\",\"screenShareBtn\":\"TutoringRoom_screenShareBtn__2UtMZ\",\"canvas\":\"TutoringRoom_canvas__J17MM\",\"otherScreenContainer\":\"TutoringRoom_otherScreenContainer__2sg5e\",\"otherClientScreenVid\":\"TutoringRoom_otherClientScreenVid__84Qv4\",\"tools\":\"TutoringRoom_tools__2g0Zw\",\"tool\":\"TutoringRoom_tool__1Uw5S\",\"colorPicker\":\"TutoringRoom_colorPicker__2DYYf\",\"timer\":\"TutoringRoom_timer__3Qu2u\",\"chatBtn\":\"TutoringRoom_chatBtn__3yyDm\"};"],"sourceRoot":""}